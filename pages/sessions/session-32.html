<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sesi 32: **Kwargs Pada Fungsi - Cendiks</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../css/styles.css">
    <script src="../js/scripts.js"></script>
</head>
<body class="bg-gray-50 text-gray-800 font-sans">
    <!-- Header -->
    <header class="bg-white shadow-md">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <button onclick="history.back()" class="text-gray-600 hover:text-primary mr-4">‚Üê Kembali</button>
            <h1 class="text-2xl font-bold text-primary">Cendiks</h1>
            <nav class="space-x-4">
                <a href="../index.html" class="text-gray-600 hover:text-primary">Beranda</a>
                <a href="sessions.html" class="text-gray-600 hover:text-primary">Sesi Pembelajaran</a>
                <a href="install.html" class="text-gray-600 hover:text-primary">Instalasi Python</a>
                <a href="certification.html" class="text-gray-600 hover:text-primary">Ujian Sertifikasi</a>
                <a href="more.html" class="text-gray-600 hover:text-primary">More</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="bg-gradient-to-r from-blue-100 to-yellow-100 py-20">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-4xl font-bold mb-4 text-gray-800 fade-in-up">üìö Sesi 32: **Kwargs Pada Fungsi</h2>
            <p class="text-xl mb-8 text-gray-600 slide-in-right">Pelajari cara menggunakan **kwargs untuk menerima argumen keyword variabel dalam fungsi</p>
        </div>
    </section>

    <!-- Content Section -->
    <section class="py-16">
        <div class="container mx-auto px-4 max-w-4xl">
            <div class="bg-white p-8 rounded-lg shadow-md">
                <h3 class="text-2xl font-bold mb-6">Materi Pembelajaran</h3>

                <div class="mb-8">
                    <h4 class="text-xl font-semibold mb-4">1Ô∏è‚É£ Pengenalan **kwargs</h4>
                    <p class="text-gray-600 mb-4">**kwargs adalah parameter khusus dalam Python yang memungkinkan fungsi menerima argumen keyword variabel. Kata "kwargs" adalah singkatan dari "keyword arguments".</p>
                    <p class="text-gray-600 mb-4">Bayangkan Anda sedang membuat sistem konfigurasi. Tanpa **kwargs, Anda harus membuat fungsi dengan parameter tetap seperti config(nama, umur, kota). Dengan **kwargs, pengguna bisa memberikan konfigurasi apa saja: config(nama="Alice", email="alice@example.com", tema="dark", notifikasi=True).</p>
                    <p class="text-gray-600 mb-4"><strong>Kenapa **kwargs berguna?</strong></p>
                    <ul class="list-disc list-inside text-gray-600 mb-4 space-y-1">
                        <li><strong>Fleksibilitas maksimal:</strong> Fungsi bisa menerima konfigurasi apa saja tanpa perlu mengubah definisi fungsi</li>
                        <li><strong>Backward compatibility:</strong> Bisa menambah parameter baru tanpa merusak kode yang sudah ada</li>
                        <li><strong>Konfigurasi dinamis:</strong> Bagus untuk settings, options, dan preferences</li>
                        <li><strong>API yang bersih:</strong> Tidak perlu parameter yang tidak digunakan</li>
                    </ul>
                    <div class="bg-gray-100 p-4 rounded-lg mb-4">
                        <pre><code># **kwargs memungkinkan fungsi menerima argumen keyword yang tidak terbatas

def sapa(**kwargs):
    for key, value in kwargs.items():
        print(f"{key}: {value}")

# Pemanggilan fungsi
sapa(nama="Alice", umur=25, kota="Jakarta")
# Output:
# nama: Alice
# umur: 25
# kota: Jakarta</code></pre>
                    </div>
                    <p class="text-gray-600 mb-4"><strong>Bagaimana **kwargs bekerja?</strong> Di dalam fungsi, **kwargs menjadi dictionary yang berisi semua argumen keyword yang diberikan. Dictionary adalah struktur data yang menyimpan pasangan key-value.</p>
                    <div class="bg-gray-100 p-4 rounded-lg mb-4">
                        <pre><code># Tanpa **kwargs, kita harus mendefinisikan semua parameter
def sapa_manual(nama=None, umur=None, kota=None):
    if nama:
        print(f"nama: {nama}")
    if umur:
        print(f"umur: {umur}")
    if kota:
        print(f"kota: {kota}")

# Dengan **kwargs - jauh lebih fleksibel!
def sapa_fleksibel(**kwargs):
    for key, value in kwargs.items():
        print(f"{key}: {value}")

# Bisa dipanggil dengan berbagai kombinasi
sapa_fleksibel(nama="Alice", umur=25)           # Hanya nama dan umur
sapa_fleksibel(kota="Jakarta", pekerjaan="Programmer")  # Field yang berbeda
sapa_fleksibel(nama="Bob", email="bob@example.com", aktif=True)  # Field tambahan</code></pre>
                    </div>
                </div>

                <div class="mb-8">
                    <h4 class="text-xl font-semibold mb-4">2Ô∏è‚É£ Menggunakan **kwargs dalam Fungsi</h4>
                    <p class="text-gray-600 mb-4">Cara menggunakan **kwargs untuk menerima dan memproses argumen keyword. Mari kita lihat berbagai pola penggunaan yang umum.</p>
                    <p class="text-gray-600 mb-4"><strong>Mengiterasi **kwargs:</strong> Karena **kwargs adalah dictionary, kita bisa menggunakan loop untuk memproses setiap key-value pair. Ini seperti membuka kotak hadiah - kita tidak tahu apa isinya sampai kita buka satu per satu.</p>
                    <div class="bg-gray-100 p-4 rounded-lg mb-4">
                        <pre><code># **kwargs sebagai dictionary - seperti membuka kotak hadiah
def cetak_info(**kwargs):
    print("Informasi yang diterima:")
    for key, value in kwargs.items():
        print(f"  {key}: {value}")

cetak_info(nama="Alice", umur=25, pekerjaan="Programmer")
# Output:
# Informasi yang diterima:
#   nama: Alice
#   umur: 25
#   pekerjaan: Programmer</code></pre>
                    </div>
                    <p class="text-gray-600 mb-4"><strong>Membuat objek dengan default values:</strong> Gunakan <code>kwargs.get('key', default)</code> untuk memberikan nilai default. Ini seperti formulir yang sudah diisi sebagian - field yang tidak diisi akan menggunakan nilai standar.</p>
                    <div class="bg-gray-100 p-4 rounded-lg mb-4">
                        <pre><code># Menggunakan **kwargs untuk membuat objek dengan default values
def buat_orang(**kwargs):
    orang = {
        'nama': kwargs.get('nama', 'Tidak diketahui'),
        'umur': kwargs.get('umur', 0),
        'kota': kwargs.get('kota', 'Tidak diketahui')
    }
    return orang

person1 = buat_orang(nama="Bob", umur=30, kota="Jakarta")
person2 = buat_orang(nama="Charlie", kota="Bandung")  # umur menggunakan default 0
print(person1)  # {'nama': 'Bob', 'umur': 30, 'kota': 'Jakarta'}
print(person2)  # {'nama': 'Charlie', 'umur': 0, 'kota': 'Bandung'}</code></pre>
                    </div>
                    <p class="text-gray-600 mb-4"><strong>Menggabungkan parameter wajib dan **kwargs:</strong> Parameter normal tetap wajib, sementara **kwargs menangani opsi tambahan. Ini seperti restoran yang punya menu tetap plus menu pilihan.</p>
                    <div class="bg-gray-100 p-4 rounded-lg mb-4">
                        <pre><code># **kwargs dengan parameter wajib - menu tetap + pilihan
def daftar_karyawan(id_karyawan, **kwargs):  # id_karyawan wajib
    karyawan = {'id': id_karyawan}  # Mulai dengan data wajib
    karyawan.update(kwargs)  # Tambahkan opsi tambahan
    return karyawan

karyawan1 = daftar_karyawan(1001, nama="Diana", departemen="IT", gaji=5000000)
karyawan2 = daftar_karyawan(1002, nama="Eva")  # Hanya nama, tanpa departemen/gaji
print(karyawan1)
# {'id': 1001, 'nama': 'Diana', 'departemen': 'IT', 'gaji': 5000000}
print(karyawan2)
# {'id': 1002, 'nama': 'Eva'}</code></pre>
                    </div>
                </div>

                <div class="mb-8">
                    <h4 class="text-xl font-semibold mb-4">3Ô∏è‚É£ **kwargs dengan *args</h4>
                    <p class="text-gray-600 mb-4">Menggabungkan **kwargs dengan *args untuk fleksibilitas maksimal. *args menangkap positional arguments, **kwargs menangkap keyword arguments.</p>

                    <p class="text-gray-600 mb-4"><strong>Urutan parameter:</strong> *args harus datang sebelum **kwargs. Python memproses dari kiri ke kanan.</p>

                    <div class="bg-gray-100 p-4 rounded-lg mb-4">
                        <pre><code>def func(*args, **kwargs):
    print("Args:", args)
    print("Kwargs:", kwargs)

func(1, 2, nama="Alice", umur=25)
# Output:
# Args: (1, 2)
# Kwargs: {'nama': 'Alice', 'umur': 25}</code></pre>
                    </div>

                    <p class="text-gray-600 mb-4"><strong>Contoh praktis:</strong> Fungsi yang menerima data wajib dan opsi tambahan.</p>

                    <div class="bg-gray-100 p-4 rounded-lg mb-4">
                        <pre><code>def buat_user(nama, *tags, **info):
    user = {'nama': nama, 'tags': tags}
    user.update(info)
    return user

user = buat_user("Alice", "admin", "active", umur=25, kota="Jakarta")
print(user)
# {'nama': 'Alice', 'tags': ('admin', 'active'), 'umur': 25, 'kota': 'Jakarta'}</code></pre>
                    </div>

                    <p class="text-gray-600 mb-4"><strong>Kegunaan:</strong> Berguna untuk decorator, factory functions, dan API yang fleksibel.</p>
                </div>

                <div class="mb-8">
                    <h4 class="text-xl font-semibold mb-4">4Ô∏è‚É£ **kwargs untuk Validasi dan Default Values</h4>
                    <p class="text-gray-600 mb-4">Menggunakan **kwargs untuk validasi input dan nilai default yang fleksibel.</p>
                    <div class="bg-gray-100 p-4 rounded-lg mb-4">
                        <pre><code># **kwargs dengan validasi
def buat_pengguna(**kwargs):
    required_fields = ['nama', 'email']
    optional_fields = ['umur', 'kota', 'telepon']
    
    # Validasi field wajib
    for field in required_fields:
        if field not in kwargs:
            raise ValueError(f"Field '{field}' wajib diisi")
        if not kwargs[field]:
            raise ValueError(f"Field '{field}' tidak boleh kosong")
    
    # Validasi email
    if '@' not in kwargs['email']:
        raise ValueError("Email tidak valid")
    
    # Validasi umur jika ada
    if 'umur' in kwargs and kwargs['umur'] is not None:
        if not isinstance(kwargs['umur'], int) or kwargs['umur'] < 0:
            raise ValueError("Umur harus berupa angka positif")
    
    # Buat objek pengguna dengan default values
    pengguna = {
        'nama': kwargs['nama'],
        'email': kwargs['email'],
        'umur': kwargs.get('umur', 0),
        'kota': kwargs.get('kota', 'Tidak diketahui'),
        'telepon': kwargs.get('telepon', None),
        'aktif': kwargs.get('aktif', True)
    }
    
    return pengguna

# Contoh penggunaan
try:
    user1 = buat_pengguna(nama="Alice", email="alice@example.com", umur=25, kota="Jakarta")
    user2 = buat_pengguna(nama="Bob", email="bob@example.com")  # tanpa optional fields
    print(user1)
    print(user2)
except ValueError as e:
    print(f"Error: {e}")

# **kwargs untuk konfigurasi API
def api_request(endpoint, method='GET', **options):
    config = {
        'endpoint': endpoint,
        'method': method.upper(),
        'headers': options.get('headers', {}),
        'params': options.get('params', {}),
        'data': options.get('data', None),
        'timeout': options.get('timeout', 30),
        'auth': options.get('auth', None)
    }
    
    # Validasi method
    valid_methods = ['GET', 'POST', 'PUT', 'DELETE', 'PATCH']
    if config['method'] not in valid_methods:
        raise ValueError(f"Method {config['method']} tidak valid")
    
    print(f"Making {config['method']} request to {config['endpoint']}")
    return config

# Contoh API calls
api_request('/users', method='GET', timeout=60)
api_request('/users', method='POST', data={'name': 'John'}, headers={'Content-Type': 'application/json'})

# **kwargs untuk logging dengan level
def log_message(level='INFO', **kwargs):
    import datetime
    
    log_entry = {
        'timestamp': datetime.datetime.now().isoformat(),
        'level': level.upper(),
        'message': kwargs.get('message', ''),
        'user': kwargs.get('user', 'system'),
        'module': kwargs.get('module', 'unknown'),
        'extra': {k: v for k, v in kwargs.items() if k not in ['message', 'user', 'module']}
    }
    
    # Format log message
    formatted = f"[{log_entry['timestamp']}] {log_entry['level']} - {log_entry['module']} - {log_entry['user']}: {log_entry['message']}"
    
    if log_entry['extra']:
        formatted += f" | Extra: {log_entry['extra']}"
    
    print(formatted)
    return log_entry

# Contoh logging
log_message(message="User logged in", user="alice", module="auth")
log_message(level="ERROR", message="Database connection failed", module="db", retry_count=3, error_code=500)</code></pre>
                    </div>
                </div>

                <div class="mb-8">
                    <h4 class="text-xl font-semibold mb-4">5Ô∏è‚É£ **kwargs untuk Factory Functions dan Builders</h4>
                    <p class="text-gray-600 mb-4">Menggunakan **kwargs untuk membuat factory functions dan builder patterns.</p>
                    <div class="bg-gray-100 p-4 rounded-lg mb-4">
                        <pre><code># Factory function dengan **kwargs
def buat_koneksi_db(driver='sqlite', **kwargs):
    """Factory function untuk membuat koneksi database"""
    
    if driver == 'sqlite':
        config = {
            'driver': 'sqlite',
            'database': kwargs.get('database', ':memory:'),
            'timeout': kwargs.get('timeout', 5.0)
        }
    elif driver == 'postgresql':
        config = {
            'driver': 'postgresql',
            'host': kwargs.get('host', 'localhost'),
            'port': kwargs.get('port', 5432),
            'database': kwargs.get('database', 'postgres'),
            'user': kwargs.get('user', 'postgres'),
            'password': kwargs.get('password', ''),
            'sslmode': kwargs.get('sslmode', 'prefer')
        }
    elif driver == 'mysql':
        config = {
            'driver': 'mysql',
            'host': kwargs.get('host', 'localhost'),
            'port': kwargs.get('port', 3306),
            'database': kwargs.get('database', 'mysql'),
            'user': kwargs.get('user', 'root'),
            'password': kwargs.get('password', ''),
            'charset': kwargs.get('charset', 'utf8mb4')
        }
    else:
        raise ValueError(f"Driver {driver} tidak didukung")
    
    # Tambahkan opsi tambahan
    config.update({k: v for k, v in kwargs.items() if k not in config})
    
    return config

# Contoh penggunaan factory
sqlite_conn = buat_koneksi_db('sqlite', database='app.db')
postgres_conn = buat_koneksi_db('postgresql', host='db.example.com', user='app_user', password='secret')
mysql_conn = buat_koneksi_db('mysql', host='mysql.example.com', database='app_db')

# Builder pattern dengan **kwargs
class QueryBuilder:
    def __init__(self, table):
        self.table = table
        self.select_fields = ['*']
        self.where_conditions = []
        self.order_by = []
        self.limit_value = None
        self.offset_value = None
    
    def select(self, *fields):
        self.select_fields = list(fields) if fields else ['*']
        return self
    
    def where(self, **conditions):
        for field, value in conditions.items():
            self.where_conditions.append(f"{field} = '{value}'")
        return self
    
    def order_by(self, *fields):
        self.order_by.extend(fields)
        return self
    
    def limit(self, n):
        self.limit_value = n
        return self
    
    def offset(self, n):
        self.offset_value = n
        return self
    
    def build(self):
        query = f"SELECT {', '.join(self.select_fields)} FROM {self.table}"
        
        if self.where_conditions:
            query += f" WHERE {' AND '.join(self.where_conditions)}"
        
        if self.order_by:
            query += f" ORDER BY {', '.join(self.order_by)}"
        
        if self.limit_value:
            query += f" LIMIT {self.limit_value}"
        
        if self.offset_value:
            query += f" OFFSET {self.offset_value}"
        
        return query

# Contoh penggunaan builder
qb = QueryBuilder('users')
query1 = qb.select('name', 'email').where(status='active', role='admin').order_by('name').limit(10).build()
query2 = qb.select().where(city='Jakarta').build()

print(query1)  # SELECT name, email FROM users WHERE status = 'active' AND role = 'admin' ORDER BY name LIMIT 10
print(query2)  # SELECT * FROM users WHERE city = 'Jakarta'

# **kwargs untuk membuat objek dengan fluent interface
class EmailBuilder:
    def __init__(self):
        self._to = []
        self._cc = []
        self._bcc = []
        self._subject = ""
        self._body = ""
        self._attachments = []
    
    def to(self, *emails):
        self._to.extend(emails)
        return self
    
    def cc(self, *emails):
        self._cc.extend(emails)
        return self
    
    def bcc(self, *emails):
        self._bcc.extend(emails)
        return self
    
    def subject(self, subject):
        self._subject = subject
        return self
    
    def body(self, body):
        self._body = body
        return self
    
    def attach(self, **files):
        for filename, content in files.items():
            self._attachments.append({'filename': filename, 'content': content})
        return self
    
    def build(self):
        return {
            'to': self._to,
            'cc': self._cc,
            'bcc': self._bcc,
            'subject': self._subject,
            'body': self._body,
            'attachments': self._attachments
        }

# Contoh penggunaan fluent builder
email = (EmailBuilder()
         .to('alice@example.com', 'bob@example.com')
         .cc('manager@example.com')
         .subject('Laporan Mingguan')
         .body('Berikut adalah laporan mingguan...')
         .attach(report_pdf='PDF content here', chart_png='PNG content here')
         .build())

print(email)</code></pre>
                    </div>
                </div>

                <div class="mb-8">
                    <h4 class="text-xl font-semibold mb-4">6Ô∏è‚É£ Database Integration</h4>
                    <p class="text-gray-600 mb-4">Menggunakan SQLAlchemy dengan Flask.</p>
                    <div class="bg-gray-100 p-4 rounded-lg mb-4">
                        <pre><code># pip install flask-sqlalchemy

from flask import Flask, render_template, request, redirect, url_for
from flask_sqlalchemy import SQLAlchemy

app = Flask(__name__)
app.config['SQLALCHEMY_DATABASE_URI'] = 'sqlite:///blog.db'
app.config['SQLALCHEMY_TRACK_MODIFICATIONS'] = False
app.secret_key = 'your-secret-key'

db = SQLAlchemy(app)

# Model database
class Post(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    title = db.Column(db.String(100), nullable=False)
    content = db.Column(db.Text, nullable=False)
    author = db.Column(db.String(50), nullable=False)
    created_at = db.Column(db.DateTime, default=db.func.current_timestamp())

    def __repr__(self):
        return f'<Post {self.title}>'

# Routes
@app.route('/')
def index():
    posts = Post.query.order_by(Post.created_at.desc()).all()
    return render_template('index.html', posts=posts)

@app.route('/post/<int:post_id>')
def post_detail(post_id):
    post = Post.query.get_or_404(post_id)
    return render_template('post_detail.html', post=post)

@app.route('/create', methods=['GET', 'POST'])
def create_post():
    if request.method == 'POST':
        title = request.form['title']
        content = request.form['content']
        author = request.form['author']
        
        new_post = Post(title=title, content=content, author=author)
        db.session.add(new_post)
        db.session.commit()
        
        return redirect(url_for('index'))
    
    return render_template('create_post.html')

@app.route('/delete/<int:post_id>', methods=['POST'])
def delete_post(post_id):
    post = Post.query.get_or_404(post_id)
    db.session.delete(post)
    db.session.commit()
    return redirect(url_for('index'))

if __name__ == '__main__':
    with app.app_context():
        db.create_all()  # Buat tabel jika belum ada
    app.run(debug=True)

# File templates/index.html
"""
<!DOCTYPE html>
<html>
<head>
    <title>Blog</title>
</head>
<body>
    <h1>My Blog</h1>
    <a href="{{ url_for('create_post') }}">Create New Post</a>
    
    {% for post in posts %}
        <div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
            <h2><a href="{{ url_for('post_detail', post_id=post.id) }}">{{ post.title }}</a></h2>
            <p>By {{ post.author }} on {{ post.created_at.strftime('%Y-%m-%d') }}</p>
            <p>{{ post.content[:100] }}...</p>
            <form method="post" action="{{ url_for('delete_post', post_id=post.id) }}" style="display: inline;">
                <button type="submit" onclick="return confirm('Delete this post?')">Delete</button>
            </form>
        </div>
    {% endfor %}
</body>
</html>
"""

# File templates/create_post.html
"""
<!DOCTYPE html>
<html>
<head>
    <title>Create Post</title>
</head>
<body>
    <h1>Create New Post</h1>
    <form method="post">
        <label>Title: <input type="text" name="title" required></label><br>
        <label>Author: <input type="text" name="author" required></label><br>
        <label>Content:<br>
            <textarea name="content" rows="10" cols="50" required></textarea>
        </label><br>
        <button type="submit">Create Post</button>
    </form>
    <a href="{{ url_for('index') }}">Back to blog</a>
</body>
</html>
"""</code></pre>
                    </div>
                </div>

                <div class="mb-8">
                    <h4 class="text-xl font-semibold mb-4">7Ô∏è‚É£ **kwargs untuk Event Handling dan Callbacks</h4>
                    <p class="text-gray-600 mb-4">Menggunakan **kwargs untuk sistem event handling dan callback functions.</p>
                    <div class="bg-gray-100 p-4 rounded-lg mb-4">
                        <pre><code># Event system dengan **kwargs
class EventEmitter:
    def __init__(self):
        self.listeners = {}
    
    def on(self, event, callback, **options):
        """Register event listener dengan opsi"""
        if event not in self.listeners:
            self.listeners[event] = []
        
        self.listeners[event].append({
            'callback': callback,
            'options': options,
            'once': options.get('once', False),
            'priority': options.get('priority', 0)
        })
        
        # Sort by priority (higher priority first)
        self.listeners[event].sort(key=lambda x: x['priority'], reverse=True)
    
    def off(self, event, callback=None):
        """Remove event listener"""
        if event in self.listeners:
            if callback is None:
                del self.listeners[event]
            else:
                self.listeners[event] = [l for l in self.listeners[event] if l['callback'] != callback]
    
    def emit(self, event, **kwargs):
        """Emit event dengan data"""
        if event in self.listeners:
            listeners_to_remove = []
            
            for i, listener in enumerate(self.listeners[event]):
                try:
                    listener['callback'](**kwargs)
                    
                    if listener['once']:
                        listeners_to_remove.append(i)
                except Exception as e:
                    print(f"Error in event listener: {e}")
            
            # Remove 'once' listeners
            for i in reversed(listeners_to_remove):
                del self.listeners[event][i]

# Contoh penggunaan event system
emitter = EventEmitter()

def user_login_handler(**data):
    print(f"User {data['username']} logged in from {data.get('ip', 'unknown')}")

def audit_log_handler(**data):
    print(f"AUDIT: {data['action']} by {data['user']} at {data.get('timestamp', 'now')}")

def notification_handler(**data):
    if data.get('send_email', False):
        print(f"Sending email notification to {data['email']}")

# Register listeners dengan opsi
emitter.on('user_login', user_login_handler, priority=10)
emitter.on('user_action', audit_log_handler, once=False)
emitter.on('user_login', notification_handler, priority=5, send_email=True)

# Emit events
emitter.emit('user_login', username='alice', ip='192.168.1.1', email='alice@example.com')
emitter.emit('user_action', action='file_upload', user='alice', timestamp='2023-12-01 10:00:00')

# Callback system untuk async operations
class AsyncTask:
    def __init__(self):
        self.callbacks = {
            'success': [],
            'error': [],
            'progress': []
        }
    
    def on_success(self, callback, **options):
        self.callbacks['success'].append({'callback': callback, 'options': options})
    
    def on_error(self, callback, **options):
        self.callbacks['error'].append({'callback': callback, 'options': options})
    
    def on_progress(self, callback, **options):
        self.callbacks['progress'].append({'callback': callback, 'options': options})
    
    def execute(self, **kwargs):
        try:
            # Simulate progress
            for i in range(0, 101, 25):
                for cb in self.callbacks['progress']:
                    cb['callback'](progress=i, **kwargs)
                import time
                time.sleep(0.1)
            
            # Simulate success
            result = f"Task completed with data: {kwargs}"
            
            for cb in self.callbacks['success']:
                cb['callback'](result=result, **kwargs)
                
        except Exception as e:
            for cb in self.callbacks['error']:
                cb['callback'](error=str(e), **kwargs)

# Contoh async task dengan callbacks
def on_task_success(**data):
    print(f"‚úÖ Task succeeded: {data['result']}")

def on_task_error(**data):
    print(f"‚ùå Task failed: {data['error']}")

def on_task_progress(**data):
    print(f"üìä Progress: {data['progress']}%")

task = AsyncTask()
task.on_success(on_task_success)
task.on_error(on_task_error)
task.on_progress(on_task_progress)

# Execute task
task.execute(task_id='upload_file', filename='document.pdf', user='alice')

# **kwargs untuk middleware pattern
class MiddlewareChain:
    def __init__(self):
        self.middlewares = []
    
    def use(self, middleware, **options):
        """Add middleware dengan opsi"""
        self.middlewares.append({
            'func': middleware,
            'options': options
        })
    
    def execute(self, **context):
        """Execute middleware chain"""
        def next_middleware(index=0):
            if index < len(self.middlewares):
                middleware = self.middlewares[index]
                try:
                    middleware['func'](context, lambda: next_middleware(index + 1), **middleware['options'])
                except Exception as e:
                    print(f"Middleware error: {e}")
            else:
                print("All middlewares executed successfully")
        
        next_middleware()

# Contoh middleware
def auth_middleware(context, next_func, **options):
    required_role = options.get('role', 'user')
    user_role = context.get('user_role', 'guest')
    
    if user_role == required_role or user_role == 'admin':
        print(f"Auth passed for role: {user_role}")
        next_func()
    else:
        print(f"Auth failed: required {required_role}, got {user_role}")

def logging_middleware(context, next_func, **options):
    action = context.get('action', 'unknown')
    print(f"LOG: Executing {action}")
    next_func()
    print(f"LOG: Completed {action}")

def rate_limit_middleware(context, next_func, **options):
    max_requests = options.get('max_requests', 10)
    current_requests = context.get('request_count', 0)
    
    if current_requests < max_requests:
        print(f"Rate limit OK: {current_requests}/{max_requests}")
        next_func()
    else:
        print("Rate limit exceeded")

# Setup middleware chain
chain = MiddlewareChain()
chain.use(logging_middleware)
chain.use(auth_middleware, role='admin')
chain.use(rate_limit_middleware, max_requests=5)

# Execute dengan context berbeda
chain.execute(action='delete_user', user_role='admin', request_count=3)
chain.execute(action='view_dashboard', user_role='user', request_count=2)</code></pre>
                    </div>
                </div>

                <div class="mb-8">
                    <h4 class="text-xl font-semibold mb-4">8Ô∏è‚É£ **kwargs untuk Configuration Management</h4>
                    <p class="text-gray-600 mb-4">Menggunakan **kwargs untuk mengelola konfigurasi aplikasi yang fleksibel.</p>
                    <div class="bg-gray-100 p-4 rounded-lg mb-4">
                        <pre><code># Configuration class dengan **kwargs
class AppConfig:
    def __init__(self, **kwargs):
        # Default configurations
        self.defaults = {
            'debug': False,
            'host': 'localhost',
            'port': 5000,
            'database_url': 'sqlite:///app.db',
            'session_timeout': 3600,
            'max_connections': 10,
            'log_level': 'INFO'
        }
        
        # Update dengan kwargs
        self.config = self.defaults.copy()
        self.config.update(kwargs)
    
    def get(self, key, default=None):
        """Get configuration value"""
        return self.config.get(key, default)
    
    def set(self, key, value):
        """Set configuration value"""
        self.config[key] = value
    
    def update(self, **kwargs):
        """Update multiple configurations"""
        self.config.update(kwargs)
    
    def __getitem__(self, key):
        return self.config[key]
    
    def __setitem__(self, key, value):
        self.config[key] = value
    
    def __repr__(self):
        return f"AppConfig({self.config})"

# Contoh penggunaan
config = AppConfig(debug=True, host='0.0.0.0', port=8080, max_connections=20)

print(f"Debug mode: {config.get('debug')}")
print(f"Host: {config['host']}")
print(f"Database URL: {config.get('database_url')}")

# Update konfigurasi
config.update(log_level='DEBUG', session_timeout=7200)
config.set('max_connections', 50)

print(f"Updated config: {config}")

# **kwargs untuk environment-based config
def load_config_from_env(**overrides):
    """Load configuration from environment variables dengan overrides"""
    import os
    
    config = {
        'debug': os.getenv('DEBUG', 'False').lower() == 'true',
        'host': os.getenv('HOST', 'localhost'),
        'port': int(os.getenv('PORT', '5000')),
        'database_url': os.getenv('DATABASE_URL', 'sqlite:///app.db'),
        'secret_key': os.getenv('SECRET_KEY', 'dev-secret-key'),
        'api_key': os.getenv('API_KEY'),
        'redis_url': os.getenv('REDIS_URL')
    }
    
    # Override dengan kwargs
    config.update({k: v for k, v in overrides.items() if v is not None})
    
    return AppConfig(**config)

# Contoh loading config
app_config = load_config_from_env(debug=True, port=3000)
print(f"Loaded config: {app_config}")

# **kwargs untuk nested configurations
class DatabaseConfig:
    def __init__(self, **kwargs):
        self.host = kwargs.get('host', 'localhost')
        self.port = kwargs.get('port', 5432)
        self.database = kwargs.get('database', 'app')
        self.user = kwargs.get('user', 'app_user')
        self.password = kwargs.get('password', '')
        self.pool_size = kwargs.get('pool_size', 10)
        self.ssl_mode = kwargs.get('ssl_mode', 'prefer')
        self.connection_timeout = kwargs.get('connection_timeout', 30)
    
    def get_connection_string(self):
        return f"postgresql://{self.user}:{self.password}@{self.host}:{self.port}/{self.database}"

class CacheConfig:
    def __init__(self, **kwargs):
        self.host = kwargs.get('host', 'localhost')
        self.port = kwargs.get('port', 6379)
        self.db = kwargs.get('db', 0)
        self.password = kwargs.get('password')
        self.max_connections = kwargs.get('max_connections', 20)
    
    def get_connection_string(self):
        auth = f":{self.password}@" if self.password else ""
        return f"redis://{auth}{self.host}:{self.port}/{self.db}"

class AppConfigAdvanced:
    def __init__(self, **kwargs):
        self.app = AppConfig(**kwargs.get('app', {}))
        self.database = DatabaseConfig(**kwargs.get('database', {}))
        self.cache = CacheConfig(**kwargs.get('cache', {}))
        self.features = kwargs.get('features', {})
    
    def __repr__(self):
        return f"AppConfigAdvanced(app={self.app}, database={self.database}, cache={self.cache})"

# Contoh nested config
advanced_config = AppConfigAdvanced(
    app={'debug': True, 'host': '0.0.0.0'},
    database={'host': 'db.example.com', 'user': 'app', 'password': 'secret'},
    cache={'host': 'redis.example.com', 'password': 'redis_pass'},
    features={'notifications': True, 'analytics': False}
)

print(f"Database connection: {advanced_config.database.get_connection_string()}")
print(f"Cache connection: {advanced_config.cache.get_connection_string()}")

# **kwargs untuk feature flags
class FeatureFlags:
    def __init__(self, **kwargs):
        self.flags = {
            'new_ui': False,
            'beta_features': False,
            'analytics': True,
            'notifications': True,
            'dark_mode': False,
            'api_v2': False
        }
        self.flags.update(kwargs)
    
    def is_enabled(self, feature):
        return self.flags.get(feature, False)
    
    def enable(self, feature):
        self.flags[feature] = True
    
    def disable(self, feature):
        self.flags[feature] = False
    
    def toggle(self, feature):
        self.flags[feature] = not self.flags.get(feature, False)
    
    def __repr__(self):
        return f"FeatureFlags({self.flags})"

# Contoh feature flags
features = FeatureFlags(new_ui=True, beta_features=True, dark_mode=True)

print(f"New UI enabled: {features.is_enabled('new_ui')}")
print(f"Analytics enabled: {features.is_enabled('analytics')}")

features.disable('notifications')
print(f"Features after disable: {features}")</code></pre>
                    </div>
                </div>

                <div class="mb-8">
                    <h4 class="text-xl font-semibold mb-4">9Ô∏è‚É£ **kwargs untuk API Clients dan Data Processing</h4>
                    <p class="text-gray-600 mb-4">Menggunakan **kwargs untuk membuat API clients yang fleksibel dan pemrosesan data.</p>
                    <div class="bg-gray-100 p-4 rounded-lg mb-4">
                        <pre><code># **kwargs untuk HTTP API client
class APIClient:
    def __init__(self, base_url, **defaults):
        self.base_url = base_url.rstrip('/')
        self.defaults = {
            'timeout': 30,
            'headers': {'Content-Type': 'application/json'},
            'auth': None,
            'verify_ssl': True
        }
        self.defaults.update(defaults)
    
    def request(self, method, endpoint, **kwargs):
        """Make HTTP request dengan **kwargs untuk fleksibilitas"""
        import requests
        
        # Merge defaults dengan kwargs
        config = self.defaults.copy()
        config.update(kwargs)
        
        url = f"{self.base_url}/{endpoint.lstrip('/')}"
        
        # Prepare request parameters
        request_kwargs = {
            'method': method.upper(),
            'url': url,
            'timeout': config['timeout'],
            'headers': config['headers'].copy(),
            'verify': config['verify_ssl']
        }
        
        # Add auth if provided
        if config['auth']:
            request_kwargs['auth'] = config['auth']
        
        # Add data/payload
        if 'data' in config:
            if isinstance(config['data'], dict):
                import json
                request_kwargs['data'] = json.dumps(config['data'])
            else:
                request_kwargs['data'] = config['data']
        
        if 'json' in config:
            request_kwargs['json'] = config['json']
        
        if 'params' in config:
            request_kwargs['params'] = config['params']
        
        if 'files' in config:
            request_kwargs['files'] = config['files']
        
        # Update headers if provided
        if 'extra_headers' in config:
            request_kwargs['headers'].update(config['extra_headers'])
        
        print(f"Making {method.upper()} request to {url}")
        # return requests.request(**request_kwargs)  # Uncomment untuk implementasi nyata
        
        return {"status": "success", "method": method, "url": url, "config": config}

# Contoh penggunaan API client
api = APIClient('https://api.example.com', timeout=60, headers={'Authorization': 'Bearer token123'})

# GET request
response = api.request('GET', '/users', params={'page': 1, 'limit': 10})

# POST request dengan data
response = api.request('POST', '/users', json={'name': 'John', 'email': 'john@example.com'})

# PUT request dengan custom headers
response = api.request('PUT', '/users/123', 
                      json={'name': 'John Updated'}, 
                      extra_headers={'X-API-Version': 'v2'})

# **kwargs untuk data processing pipeline
class DataProcessor:
    def __init__(self):
        self.steps = []
    
    def add_step(self, func, **options):
        """Add processing step dengan opsi"""
        self.steps.append({
            'func': func,
            'options': options
        })
    
    def process(self, data, **context):
        """Process data melalui pipeline"""
        result = data
        for step in self.steps:
            try:
                result = step['func'](result, **step['options'], **context)
            except Exception as e:
                print(f"Error in processing step: {e}")
                if not step['options'].get('continue_on_error', False):
                    raise
        return result

# Contoh data processing functions
def validate_data(data, **options):
    """Validate data structure"""
    required_fields = options.get('required_fields', [])
    for field in required_fields:
        if field not in data:
            raise ValueError(f"Missing required field: {field}")
    return data

def clean_data(data, **options):
    """Clean and normalize data"""
    strip_strings = options.get('strip_strings', True)
    lowercase_keys = options.get('lowercase_keys', False)
    
    if isinstance(data, dict):
        cleaned = {}
        for key, value in data.items():
            new_key = key.lower() if lowercase_keys else key
            if isinstance(value, str) and strip_strings:
                cleaned[new_key] = value.strip()
            else:
                cleaned[new_key] = value
        return cleaned
    return data

def enrich_data(data, **options):
    """Enrich data dengan additional fields"""
    enrichments = options.get('enrichments', {})
    enriched = data.copy()
    enriched.update(enrichments)
    return enriched

# Contoh penggunaan data processor
processor = DataProcessor()

processor.add_step(validate_data, required_fields=['name', 'email'])
processor.add_step(clean_data, strip_strings=True, lowercase_keys=True)
processor.add_step(enrich_data, enrichments={'processed_at': '2023-12-01', 'source': 'api'})

# Process sample data
sample_data = {'Name': '  John Doe  ', 'Email': ' john@example.com ', 'Age': 30}

try:
    processed = processor.process(sample_data)
    print("Processed data:", processed)
except ValueError as e:
    print(f"Validation error: {e}")

# **kwargs untuk data transformation
def transform_data(data, **transformations):
    """Transform data berdasarkan aturan yang diberikan"""
    result = data.copy() if isinstance(data, dict) else {'value': data}
    
    for key, transformation in transformations.items():
        if callable(transformation):
            if key in result:
                result[key] = transformation(result[key])
        elif isinstance(transformation, dict):
            # Nested transformation
            if key in result and isinstance(result[key], dict):
                result[key] = transform_data(result[key], **transformation)
        else:
            # Direct value replacement
            result[key] = transformation
    
    return result

# Contoh transformations
def uppercase(value):
    return str(value).upper()

def add_prefix(prefix):
    return lambda value: f"{prefix}{value}"

# Contoh penggunaan
data = {
    'name': 'john doe',
    'email': 'john@example.com',
    'profile': {
        'age': 30,
        'city': 'jakarta'
    }
}

transformed = transform_data(data,
    name=uppercase,
    email=add_prefix('mailto:'),
    profile={
        'city': uppercase
    },
    status='active'  # Direct value
)

print("Transformed data:", transformed)

# **kwargs untuk batch processing
def batch_process(items, batch_size=10, **processing_options):
    """Process items in batches dengan opsi"""
    batches = []
    
    for i in range(0, len(items), batch_size):
        batch = items[i:i + batch_size]
        batches.append(batch)
    
    results = []
    for batch in batches:
        # Simulate processing dengan opsi
        processed_batch = []
        for item in batch:
            # Apply processing options
            processed_item = item.copy() if isinstance(item, dict) else item
            
            if processing_options.get('add_timestamp', False):
                import datetime
                processed_item['processed_at'] = datetime.datetime.now().isoformat()
            
            if 'transform' in processing_options:
                processed_item = processing_options['transform'](processed_item)
            
            processed_batch.append(processed_item)
        
        results.extend(processed_batch)
    
    return results

# Contoh batch processing
items = [
    {'id': 1, 'name': 'Item 1'},
    {'id': 2, 'name': 'Item 2'},
    {'id': 3, 'name': 'Item 3'},
    {'id': 4, 'name': 'Item 4'},
    {'id': 5, 'name': 'Item 5'}
]

processed_items = batch_process(items, batch_size=2, add_timestamp=True)

for item in processed_items:
    print(item)</code></pre>
                    </div>
                </div>

                <div class="mb-8">
                    <h4 class="text-xl font-semibold mb-4">üîü Video Tutorial</h4>
                    <iframe width="100%" height="315" src="https://www.youtube.com/embed/gyO6OzzMtJs" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen class="rounded-lg"></iframe>
                </div>

                <div class="mb-8">
                    <h4 class="text-xl font-semibold mb-4">1Ô∏è‚É£1Ô∏è‚É£ Kuis Interaktif **kwargs</h4>
                    <div class="space-y-4">
                        <div>
                            <p class="font-medium mb-2">1. Apa fungsi utama **kwargs dalam Python?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="q1" value="a" class="mr-2">
                                    <span>Menerima argumen positional variabel</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="q1" value="b" class="mr-2">
                                    <span>Menerima argumen keyword variabel</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="q1" value="c" class="mr-2">
                                    <span>Mengembalikan nilai dari fungsi</span>
                                </label>
                            </div>
                        </div>
                        <div>
                            <p class="font-medium mb-2">2. Bagaimana cara mengakses nilai dari **kwargs di dalam fungsi?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="q2" value="a" class="mr-2">
                                    <span>Menggunakan kwargs['key']</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="q2" value="b" class="mr-2">
                                    <span>Menggunakan kwargs.key</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="q2" value="c" class="mr-2">
                                    <span>Menggunakan kwargs.get('key')</span>
                                </label>
                            </div>
                        </div>
                        <div>
                            <p class="font-medium mb-2">3. Mana yang benar tentang **kwargs?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="q3" value="a" class="mr-2">
                                    <span>**kwargs harus selalu ditempatkan sebelum *args</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="q3" value="b" class="mr-2">
                                    <span>**kwargs harus selalu ditempatkan setelah *args</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="q3" value="c" class="mr-2">
                                    <span>**kwargs bisa ditempatkan di posisi manapun</span>
                                </label>
                            </div>
                        </div>
                        <div>
                            <p class="font-medium mb-2">4. Apa tipe data dari **kwargs di dalam fungsi?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="q4" value="a" class="mr-2">
                                    <span>List</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="q4" value="b" class="mr-2">
                                    <span>Tuple</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="q4" value="c" class="mr-2">
                                    <span>Dictionary</span>
                                </label>
                            </div>
                        </div>
                        <div>
                            <p class="font-medium mb-2">5. Mana yang merupakan penggunaan yang tepat untuk **kwargs?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="q5" value="a" class="mr-2">
                                    <span>def func(**kwargs): pass</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="q5" value="b" class="mr-2">
                                    <span>def func(*kwargs): pass</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="q5" value="c" class="mr-2">
                                    <span>def func(&kwargs): pass</span>
                                </label>
                            </div>
                        </div>
                        <button onclick="checkKwargsQuiz()" class="bg-primary text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition duration-300">Periksa Jawaban</button>
                        <div id="quiz-result" class="mt-4"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2023 Cendiks. Platform belajar Python untuk semua.</p>
        </div>
    </footer>
</body>
</html>
