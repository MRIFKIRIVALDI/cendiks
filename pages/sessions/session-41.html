<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sesi 41: Pengenalan Django untuk Web Development - Cendiks</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="../css/styles.css">
    <script src="../js/scripts.js"></script>
</head>
<body class="bg-gray-50 text-gray-800 font-sans">
    <!-- Header -->
    <header class="bg-white shadow-md">
        <div class="container mx-auto px-4 py-4 flex justify-between items-center">
            <button onclick="history.back()" class="text-gray-600 hover:text-primary mr-4">‚Üê Kembali</button>
            <h1 class="text-2xl font-bold text-primary">Cendiks</h1>
            <nav class="space-x-4">
                <a href="../index.html" class="text-gray-600 hover:text-primary">Beranda</a>
                <a href="sessions.html" class="text-gray-600 hover:text-primary">Sesi Pembelajaran</a>
                <a href="install.html" class="text-gray-600 hover:text-primary">Instalasi Python</a>
                <a href="certification.html" class="text-gray-600 hover:text-primary">Ujian Sertifikasi</a>
                <a href="more.html" class="text-gray-600 hover:text-primary">More</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="bg-gradient-to-r from-blue-100 to-yellow-100 py-20">
        <div class="container mx-auto px-4 text-center">
            <h2 class="text-4xl font-bold mb-4 text-gray-800 fade-in-up">üìö Sesi 41: Pengenalan Django untuk Web Development</h2>
            <p class="text-xl mb-8 text-gray-600 slide-in-right">Pelajari framework web Python yang full-featured</p>
        </div>
    </section>

    <!-- Content Section -->
    <section class="py-16">
        <div class="container mx-auto px-4 max-w-4xl">
            <div class="bg-white p-8 rounded-lg shadow-md">
                <h3 class="text-2xl font-bold mb-6">Materi Pembelajaran</h3>

                <div class="mb-8">
                    <h4 class="text-xl font-semibold mb-4">1Ô∏è‚É£ Apa Itu Django?</h4>
                    <p class="text-gray-600 mb-4">High-level Python web framework yang mengikuti pola MTV.</p>
                    <div class="bg-gray-100 p-4 rounded-lg mb-4">
                        <pre><code># Instalasi Django
# pip install django

# Membuat proyek Django baru
# django-admin startproject mysite

# Struktur proyek Django
"""
mysite/
‚îú‚îÄ‚îÄ manage.py
‚îú‚îÄ‚îÄ mysite/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ settings.py
‚îÇ   ‚îú‚îÄ‚îÄ urls.py
‚îÇ   ‚îú‚îÄ‚îÄ asgi.py
‚îÇ   ‚îî‚îÄ‚îÄ wsgi.py
‚îî‚îÄ‚îÄ db.sqlite3 (akan dibuat saat migrate)
"""

# Menjalankan server development
# python manage.py runserver

# File mysite/settings.py - konfigurasi dasar
"""
import os

BASE_DIR = Path(__file__).resolve().parent.parent

SECRET_KEY = 'your-secret-key-here'

DEBUG = True

ALLOWED_HOSTS = []

INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
]

MIDDLEWARE = [
    'django.middleware.security.SecurityMiddleware',
    'django.contrib.sessions.middleware.SessionMiddleware',
    'django.middleware.common.CommonMiddleware',
    'django.middleware.csrf.CsrfViewMiddleware',
    'django.contrib.auth.middleware.AuthenticationMiddleware',
    'django.contrib.messages.middleware.MessageMiddleware',
    'django.middleware.clickjacking.XFrameOptionsMiddleware',
]

ROOT_URLCONF = 'mysite.urls'

TEMPLATES = [
    {
        'BACKEND': 'django.template.backends.django.DjangoTemplates',
        'DIRS': [],
        'APP_DIRS': True,
        'OPTIONS': {
            'context_processors': [
                'django.template.context_processors.debug',
                'django.contrib.auth.context_processors.auth',
                'django.contrib.messages.context_processors.messages',
            ],
        },
    },
]

DATABASES = {
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': BASE_DIR / 'db.sqlite3',
    }
}

STATIC_URL = 'static/'
"""

# File mysite/urls.py - routing utama
"""
from django.contrib import admin
from django.urls import path, include

urlpatterns = [
    path('admin/', admin.site.urls),
    path('', include('blog.urls')),  # Akan dibuat nanti
]
"""</code></pre>
                    </div>
                </div>

                <div class="mb-8">
                    <h4 class="text-xl font-semibold mb-4">2Ô∏è‚É£ Membuat Django App</h4>
                    <p class="text-gray-600 mb-4">Membuat aplikasi dalam proyek Django.</p>
                    <div class="bg-gray-100 p-4 rounded-lg mb-4">
                        <pre><code># Membuat app baru
# python manage.py startapp blog

# Struktur app blog
"""
blog/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ admin.py
‚îú‚îÄ‚îÄ apps.py
‚îú‚îÄ‚îÄ models.py
‚îú‚îÄ‚îÄ tests.py
‚îú‚îÄ‚îÄ urls.py
‚îî‚îÄ‚îÄ views.py
"""

# File blog/models.py - mendefinisikan model database
"""
from django.db import models
from django.contrib.auth.models import User

class Post(models.Model):
    title = models.CharField(max_length=200)
    content = models.TextField()
    author = models.ForeignKey(User, on_delete=models.CASCADE)
    created_at = models.DateTimeField(auto_now_add=True)
    updated_at = models.DateTimeField(auto_now=True)
    published = models.BooleanField(default=False)
    
    def __str__(self):
        return self.title
    
    class Meta:
        ordering = ['-created_at']

class Comment(models.Model):
    post = models.ForeignKey(Post, on_delete=models.CASCADE, related_name='comments')
    author = models.CharField(max_length=100)
    email = models.EmailField()
    content = models.TextField()
    created_at = models.DateTimeField(auto_now_add=True)
    approved = models.BooleanField(default=False)
    
    def __str__(self):
        return f'Comment by {self.author} on {self.post.title}'
"""

# File blog/admin.py - registrasi model ke admin
"""
from django.contrib import admin
from .models import Post, Comment

@admin.register(Post)
class PostAdmin(admin.ModelAdmin):
    list_display = ('title', 'author', 'created_at', 'published')
    list_filter = ('published', 'created_at', 'author')
    search_fields = ('title', 'content')
    prepopulated_fields = {'slug': ('title',)}
    date_hierarchy = 'created_at'
    ordering = ('-created_at',)

@admin.register(Comment)
class CommentAdmin(admin.ModelAdmin):
    list_display = ('author', 'post', 'created_at', 'approved')
    list_filter = ('approved', 'created_at')
    search_fields = ('author', 'content')
    actions = ['approve_comments']
    
    def approve_comments(self, request, queryset):
        queryset.update(approved=True)
    approve_comments.short_description = "Approve selected comments"
"""

# File blog/apps.py - konfigurasi app
"""
from django.apps import AppConfig

class BlogConfig(AppConfig):
    default_auto_field = 'django.db.models.BigAutoField'
    name = 'blog'
"""

# Menambahkan app ke settings.py
"""
INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'blog.apps.BlogConfig',  # Tambahkan ini
]
"""

# Membuat dan menjalankan migrasi
# python manage.py makemigrations
# python manage.py migrate

# Membuat superuser
# python manage.py createsuperuser</code></pre>
                    </div>
                </div>

                <div class="mb-8">
                    <h4 class="text-xl font-semibold mb-4">3Ô∏è‚É£ Views dan URL Patterns</h4>
                    <p class="text-gray-600 mb-4">Menangani request dan response.</p>
                    <div class="bg-gray-100 p-4 rounded-lg mb-4">
                        <pre><code># File blog/views.py - function-based views
"""
from django.shortcuts import render, get_object_or_404, redirect
from django.contrib import messages
from django.core.paginator import Paginator
from .models import Post, Comment
from .forms import CommentForm

def post_list(request):
    posts = Post.objects.filter(published=True)
    
    # Pagination
    paginator = Paginator(posts, 5)  # 5 posts per page
    page_number = request.GET.get('page')
    page_obj = paginator.get_page(page_number)
    
    return render(request, 'blog/post_list.html', {
        'page_obj': page_obj
    })

def post_detail(request, pk):
    post = get_object_or_404(Post, pk=pk, published=True)
    comments = post.comments.filter(approved=True)
    
    if request.method == 'POST':
        form = CommentForm(request.POST)
        if form.is_valid():
            comment = form.save(commit=False)
            comment.post = post
            comment.save()
            messages.success(request, 'Comment added successfully!')
            return redirect('post_detail', pk=post.pk)
    else:
        form = CommentForm()
    
    return render(request, 'blog/post_detail.html', {
        'post': post,
        'comments': comments,
        'form': form
    })

def post_create(request):
    if request.method == 'POST':
        # Logic untuk membuat post baru
        pass
    return render(request, 'blog/post_create.html')
"""

# File blog/urls.py - URL patterns untuk app
"""
from django.urls import path
from . import views

app_name = 'blog'

urlpatterns = [
    path('', views.post_list, name='post_list'),
    path('post/<int:pk>/', views.post_detail, name='post_detail'),
    path('post/create/', views.post_create, name='post_create'),
]
"""

# Class-based views (alternatif)
"""
from django.views.generic import ListView, DetailView
from .models import Post

class PostListView(ListView):
    model = Post
    template_name = 'blog/post_list.html'
    context_object_name = 'posts'
    paginate_by = 5
    
    def get_queryset(self):
        return Post.objects.filter(published=True)

class PostDetailView(DetailView):
    model = Post
    template_name = 'blog/post_detail.html'
    context_object_name = 'post'
    
    def get_queryset(self):
        return Post.objects.filter(published=True)
"""

# Update blog/urls.py untuk class-based views
"""
from django.urls import path
from . import views

app_name = 'blog'

urlpatterns = [
    path('', views.PostListView.as_view(), name='post_list'),
    path('post/<int:pk>/', views.PostDetailView.as_view(), name='post_detail'),
]
"""</code></pre>
                    </div>
                </div>

                <div class="mb-8">
                    <h4 class="text-xl font-semibold mb-4">4Ô∏è‚É£ Templates dan Static Files</h4>
                    <p class="text-gray-600 mb-4">Rendering HTML dengan Django templates.</p>
                    <div class="bg-gray-100 p-4 rounded-lg mb-4">
                        <pre><code># Struktur templates
"""
templates/
‚îî‚îÄ‚îÄ blog/
    ‚îú‚îÄ‚îÄ base.html
    ‚îú‚îÄ‚îÄ post_list.html
    ‚îî‚îÄ‚îÄ post_detail.html
"""

# File templates/blog/base.html
"""
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}My Blog{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>
    <header>
        <nav>
            <div class="container">
                <a href="{% url 'blog:post_list' %}">My Blog</a>
                <ul>
                    <li><a href="{% url 'blog:post_list' %}">Home</a></li>
                    {% if user.is_authenticated %}
                        <li><a href="{% url 'admin:index' %}">Admin</a></li>
                        <li><a href="{% url 'logout' %}">Logout</a></li>
                    {% else %}
                        <li><a href="{% url 'login' %}">Login</a></li>
                    {% endif %}
                </ul>
            </div>
        </nav>
    </header>
    
    <main class="container">
        {% if messages %}
            <div class="messages">
                {% for message in messages %}
                    <div class="alert alert-{{ message.tags }}">
                        {{ message }}
                    </div>
                {% endfor %}
            </div>
        {% endif %}
        
        {% block content %}{% endblock %}
    </main>
    
    <footer>
        <div class="container">
            <p>&copy; 2023 My Blog. All rights reserved.</p>
        </div>
    </footer>
    
    <script src="{% static 'js/script.js' %}"></script>
</body>
</html>
"""

# File templates/blog/post_list.html
"""
{% extends 'blog/base.html' %}

{% block title %}Blog Posts{% endblock %}

{% block content %}
    <h1>Latest Posts</h1>
    
    {% for post in page_obj %}
        <article class="post">
            <h2><a href="{% url 'blog:post_detail' post.pk %}">{{ post.title }}</a></h2>
            <p class="meta">
                By {{ post.author }} on {{ post.created_at|date:"F j, Y" }}
            </p>
            <p>{{ post.content|truncatewords:30 }}</p>
            <a href="{% url 'blog:post_detail' post.pk %}" class="read-more">Read more</a>
        </article>
    {% empty %}
        <p>No posts available.</p>
    {% endfor %}
    
    <!-- Pagination -->
    <div class="pagination">
        <span class="step-links">
            {% if page_obj.has_previous %}
                <a href="?page=1">&laquo; first</a>
                <a href="?page={{ page_obj.previous_page_number }}">previous</a>
            {% endif %}
            
            <span class="current">
                Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
            </span>
            
            {% if page_obj.has_next %}
                <a href="?page={{ page_obj.next_page_number }}">next</a>
                <a href="?page={{ page_obj.paginator.num_pages }}">last &raquo;</a>
            {% endif %}
        </span>
    </div>
{% endblock %}
"""

# File templates/blog/post_detail.html
"""
{% extends 'blog/base.html' %}

{% block title %}{{ post.title }}{% endblock %}

{% block content %}
    <article class="post-detail">
        <h1>{{ post.title }}</h1>
        <p class="meta">
            By {{ post.author }} on {{ post.created_at|date:"F j, Y" }}
            {% if post.updated_at != post.created_at %}
                (Updated: {{ post.updated_at|date:"F j, Y" }})
            {% endif %}
        </p>
        <div class="content">
            {{ post.content|linebreaks }}
        </div>
    </article>
    
    <section class="comments">
        <h2>Comments ({{ comments|length }})</h2>
        
        {% for comment in comments %}
            <div class="comment">
                <h3>{{ comment.author }}</h3>
                <p class="meta">{{ comment.created_at|date:"F j, Y \a\t g:i A" }}</p>
                <p>{{ comment.content|linebreaks }}</p>
            </div>
        {% endfor %}
        
        <h3>Add a Comment</h3>
        <form method="post">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit">Submit Comment</button>
        </form>
    </section>
{% endblock %}
"""

# Static files
"""
static/
‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îî‚îÄ‚îÄ style.css
‚îî‚îÄ‚îÄ js/
    ‚îî‚îÄ‚îÄ script.js
"""

# File static/css/style.css
"""
body {
    font-family: Arial, sans-serif;
    line-height: 1.6;
    margin: 0;
    padding: 0;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

nav {
    background: #333;
    color: white;
    padding: 1rem 0;
}

nav .container {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

nav a {
    color: white;
    text-decoration: none;
}

.post {
    border-bottom: 1px solid #eee;
    padding: 20px 0;
}

.post h2 {
    margin-top: 0;
}

.read-more {
    display: inline-block;
    background: #007bff;
    color: white;
    padding: 5px 10px;
    text-decoration: none;
    border-radius: 3px;
}

.pagination {
    margin: 20px 0;
    text-align: center;
}
"""

# File static/js/script.js
"""
document.addEventListener('DOMContentLoaded', function() {
    // Add any JavaScript functionality here
    console.log('Django blog loaded');
});
"""</code></pre>
                    </div>
                </div>

                <div class="mb-8">
                    <h4 class="text-xl font-semibold mb-4">5Ô∏è‚É£ Forms dan Model Forms</h4>
                    <p class="text-gray-600 mb-4">Menangani input data dari pengguna.</p>
                    <div class="bg-gray-100 p-4 rounded-lg mb-4">
                        <pre><code># File blog/forms.py
"""
from django import forms
from .models import Comment, Post

class CommentForm(forms.ModelForm):
    class Meta:
        model = Comment
        fields = ['author', 'email', 'content']
        widgets = {
            'author': forms.TextInput(attrs={'class': 'form-control'}),
            'email': forms.EmailInput(attrs={'class': 'form-control'}),
            'content': forms.Textarea(attrs={'class': 'form-control', 'rows': 4}),
        }

class PostForm(forms.ModelForm):
    class Meta:
        model = Post
        fields = ['title', 'content', 'published']
        widgets = {
            'title': forms.TextInput(attrs={'class': 'form-control'}),
            'content': forms.Textarea(attrs={'class': 'form-control', 'rows': 10}),
            'published': forms.CheckboxInput(attrs={'class': 'form-check-input'}),
        }

class ContactForm(forms.Form):
    name = forms.CharField(max_length=100, widget=forms.TextInput(attrs={'class': 'form-control'}))
    email = forms.EmailField(widget=forms.EmailInput(attrs={'class': 'form-control'}))
    subject = forms.CharField(max_length=200, widget=forms.TextInput(attrs={'class': 'form-control'}))
    message = forms.CharField(widget=forms.Textarea(attrs={'class': 'form-control', 'rows': 5}))
    
    def clean_email(self):
        email = self.cleaned_data.get('email')
        # Custom validation
        if not email.endswith('@example.com'):
            raise forms.ValidationError("Email must be from example.com domain")
        return email
"""

# File blog/views.py - update untuk forms
"""
from django.shortcuts import render, get_object_or_404, redirect
from django.contrib import messages
from django.contrib.auth.decorators import login_required
from .models import Post, Comment
from .forms import CommentForm, PostForm

def post_detail(request, pk):
    post = get_object_or_404(Post, pk=pk, published=True)
    comments = post.comments.filter(approved=True)
    
    if request.method == 'POST':
        form = CommentForm(request.POST)
        if form.is_valid():
            comment = form.save(commit=False)
            comment.post = post
            comment.save()
            messages.success(request, 'Comment added successfully!')
            return redirect('blog:post_detail', pk=post.pk)
    else:
        form = CommentForm()
    
    return render(request, 'blog/post_detail.html', {
        'post': post,
        'comments': comments,
        'form': form
    })

@login_required
def post_create(request):
    if request.method == 'POST':
        form = PostForm(request.POST)
        if form.is_valid():
            post = form.save(commit=False)
            post.author = request.user
            post.save()
            messages.success(request, 'Post created successfully!')
            return redirect('blog:post_detail', pk=post.pk)
    else:
        form = PostForm()
    
    return render(request, 'blog/post_create.html', {
        'form': form
    })

@login_required
def post_edit(request, pk):
    post = get_object_or_404(Post, pk=pk)
    
    # Check if user is the author
    if post.author != request.user:
        messages.error(request, 'You can only edit your own posts')
        return redirect('blog:post_detail', pk=post.pk)
    
    if request.method == 'POST':
        form = PostForm(request.POST, instance=post)
        if form.is_valid():
            form.save()
            messages.success(request, 'Post updated successfully!')
            return redirect('blog:post_detail', pk=post.pk)
    else:
        form = PostForm(instance=post)
    
    return render(request, 'blog/post_edit.html', {
        'form': form,
        'post': post
    })
"""

# File templates/blog/post_create.html
"""
{% extends 'blog/base.html' %}

{% block title %}Create Post{% endblock %}

{% block content %}
    <h1>Create New Post</h1>
    
    <form method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="btn btn-primary">Create Post</button>
    </form>
    
    <a href="{% url 'blog:post_list' %}">Back to posts</a>
{% endblock %}
"""

# Custom form rendering
"""
{% extends 'blog/base.html' %}

{% block title %}Create Post{% endblock %}

{% block content %}
    <h1>Create New Post</h1>
    
    <form method="post" class="post-form">
        {% csrf_token %}
        
        <div class="form-group">
            {{ form.title.label_tag }}
            {{ form.title }}
            {% if form.title.errors %}
                <div class="error">{{ form.title.errors }}</div>
            {% endif %}
        </div>
        
        <div class="form-group">
            {{ form.content.label_tag }}
            {{ form.content }}
            {% if form.content.errors %}
                <div class="error">{{ form.content.errors }}</div>
            {% endif %}
        </div>
        
        <div class="form-group">
            {{ form.published }}
            {{ form.published.label_tag }}
        </div>
        
        <button type="submit" class="btn btn-primary">Create Post</button>
    </form>
{% endblock %}
"""</code></pre>
                    </div>
                </div>

                <div class="mb-8">
                    <h4 class="text-xl font-semibold mb-4">6Ô∏è‚É£ Authentication dan Authorization</h4>
                    <p class="text-gray-600 mb-4">Sistem login dan permission di Django.</p>
                    <div class="bg-gray-100 p-4 rounded-lg mb-4">
                        <pre><code># Django sudah menyediakan authentication system
# Tambahkan ke INSTALLED_APPS jika belum ada:
# 'django.contrib.auth',
# 'django.contrib.contenttypes',

# File blog/views.py - authentication views
"""
from django.contrib.auth import login, logout, authenticate
from django.contrib.auth.forms import UserCreationForm, AuthenticationForm
from django.contrib.auth.decorators import login_required
from django.shortcuts import render, redirect
from django.contrib import messages

def register(request):
    if request.method == 'POST':
        form = UserCreationForm(request.POST)
        if form.is_valid():
            user = form.save()
            login(request, user)
            messages.success(request, 'Registration successful!')
            return redirect('blog:post_list')
    else:
        form = UserCreationForm()
    
    return render(request, 'blog/register.html', {'form': form})

def user_login(request):
    if request.method == 'POST':
        form = AuthenticationForm(request, data=request.POST)
        if form.is_valid():
            username = form.cleaned_data.get('username')
            password = form.cleaned_data.get('password')
            user = authenticate(username=username, password=password)
            if user is not None:
                login(request, user)
                messages.success(request, f'Welcome back, {username}!')
                return redirect('blog:post_list')
            else:
                messages.error(request, 'Invalid username or password')
        else:
            messages.error(request, 'Invalid username or password')
    else:
        form = AuthenticationForm()
    
    return render(request, 'blog/login.html', {'form': form})

def user_logout(request):
    logout(request)
    messages.info(request, 'You have been logged out')
    return redirect('blog:post_list')

@login_required
def profile(request):
    user_posts = Post.objects.filter(author=request.user)
    return render(request, 'blog/profile.html', {
        'user': request.user,
        'posts': user_posts
    })
"""

# Update blog/urls.py
"""
from django.urls import path
from . import views

app_name = 'blog'

urlpatterns = [
    path('', views.post_list, name='post_list'),
    path('post/<int:pk>/', views.post_detail, name='post_detail'),
    path('post/create/', views.post_create, name='post_create'),
    path('post/<int:pk>/edit/', views.post_edit, name='post_edit'),
    path('register/', views.register, name='register'),
    path('login/', views.user_login, name='login'),
    path('logout/', views.user_logout, name='logout'),
    path('profile/', views.profile, name='profile'),
]
"""

# Permission decorators
"""
from django.contrib.auth.decorators import login_required, permission_required
from django.contrib.auth.mixins import LoginRequiredMixin, PermissionRequiredMixin
from django.views.generic import CreateView, UpdateView

@login_required
def my_view(request):
    # Hanya user yang login yang bisa akses
    pass

@permission_required('blog.add_post')
def create_post(request):
    # Hanya user dengan permission 'blog.add_post' yang bisa akses
    pass

class PostCreateView(LoginRequiredMixin, CreateView):
    model = Post
    fields = ['title', 'content', 'published']
    
    def form_valid(self, form):
        form.instance.author = self.request.user
        return super().form_valid(form)

class PostUpdateView(LoginRequiredMixin, PermissionRequiredMixin, UpdateView):
    model = Post
    fields = ['title', 'content', 'published']
    permission_required = 'blog.change_post'
    
    def get_queryset(self):
        # User hanya bisa edit post miliknya sendiri
        return Post.objects.filter(author=self.request.user)
"""

# Custom permissions
"""
# File blog/models.py - tambahkan custom permission
class Post(models.Model):
    # ... fields lainnya ...
    
    class Meta:
        permissions = [
            ('can_publish_post', 'Can publish post'),
            ('can_delete_post', 'Can delete post'),
        ]
"""

# Middleware untuk custom authentication
"""
# File blog/middleware.py
from django.shortcuts import redirect
from django.urls import reverse

class MaintenanceModeMiddleware:
    def __init__(self, get_response):
        self.get_response = get_response
    
    def __call__(self, request):
        # Cek maintenance mode
        if getattr(settings, 'MAINTENANCE_MODE', False):
            if not request.user.is_staff:
                return redirect('maintenance')
        
        response = self.get_response(request)
        return response

class LastActivityMiddleware:
    def __init__(self, get_response):
        self.get_response = get_response
    
    def __call__(self, request):
        if request.user.is_authenticated:
            # Update last activity
            request.user.last_activity = timezone.now()
            request.user.save(update_fields=['last_activity'])
        
        response = self.get_response(request)
        return response
"""

# Tambahkan middleware ke settings.py
"""
MIDDLEWARE = [
    # ... middleware lainnya ...
    'blog.middleware.MaintenanceModeMiddleware',
    'blog.middleware.LastActivityMiddleware',
]
"""</code></pre>
                    </div>
                </div>

                <div class="mb-8">
                    <h4 class="text-xl font-semibold mb-4">7Ô∏è‚É£ Latihan Praktis</h4>
                    <p class="text-gray-600 mb-4">Buat aplikasi blog sederhana dengan Django.</p>
                </div>

                <div class="mb-8">
                    <h4 class="text-xl font-semibold mb-4">8Ô∏è‚É£ Video Tutorial</h4>
                    <iframe width="100%" height="315" src="https://www.youtube.com/embed/rHux0gMZ3Eg" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen class="rounded-lg"></iframe>
                </div>

                <div class="mb-8">
                    <h4 class="text-xl font-semibold mb-4">9Ô∏è‚É£ Kuis Interaktif</h4>
                    <div class="space-y-4">
                        <div>
                            <p class="font-medium mb-2">1. Command apa yang digunakan untuk membuat proyek Django baru?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="q1" value="a" class="mr-2">
                                    <span>django-admin startproject</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="q1" value="b" class="mr-2">
                                    <span>python manage.py startproject</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="q1" value="c" class="mr-2">
                                    <span>django startproject</span>
                                </label>
                            </div>
                        </div>
                        <div>
                            <p class="font-medium mb-2">2. Method HTTP apa yang digunakan untuk membuat data baru di Django?</p>
                            <div class="space-y-2">
                                <label class="flex items-center">
                                    <input type="radio" name="q2" value="a" class="mr-2">
                                    <span>GET</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="q2" value="b" class="mr-2">
                                    <span>POST</span>
                                </label>
                                <label class="flex items-center">
                                    <input type="radio" name="q2" value="c" class="mr-2">
                                    <span>PUT</span>
                                </label>
                            </div>
                        </div>
                        <button onclick="checkQuiz()" class="bg-primary text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition duration-300">Periksa Jawaban</button>
                        <div id="quiz-result" class="mt-4"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <p>&copy; 2023 Cendiks. Platform belajar Python untuk semua.</p>
        </div>
    </footer>
</body>
</html>
